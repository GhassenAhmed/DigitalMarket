<!-- <mat-card style="height: fit-content;text-align: center;margin-bottom: 20px;margin-top: 20px; max-width: min-content;" class="card" *ngIf="products">
  <img [src]="'http://localhost:8888/PRODUCT-SERVICE/products/images/'+products['imageProduct']" height="150px">
  <mat-card-header class="py-3 product-name comic justify-content-center">{{products['name']}}</mat-card-header>
  <mat-card-content class="py-1 comic category">{{products['category']['nom']}}</mat-card-content>
  <mat-card-content class="py-1 comic price" style="color: rgb(17, 150, 17);">{{products['prix']}} TND</mat-card-content>
  <div class="d-flex justify-content-center">
    <button mat-flat-button class="buy" style="margin-top: 5px;width: 60%;border-radius: 25px;" (click)="addProduct(products)">Buy</button>
    <button mat-icon-button (click)="toggleFavorite(products['id'])" class="">
      <mat-icon [style.color]="isFavorite? 'red' : 'gray'" mat-fab>favorite</mat-icon>
    </button>
  </div>
  <div class="new" *ngIf="new">
    <p>new product</p>
  </div>
</mat-card>  -->
<div class="cards" style="width: 280px;">
  <ng-container  *ngIf="!recommandations; else Recommandations">
    <li class="product-item">
      <figure class="product-info">
          <div class="product-info-img">
              <img [src]="'http://localhost:8888/PRODUCT-SERVICE/products/images/'+products['imageProduct']" alt="description image" width="100%">
          </div>
          <figcaption class="product-info-description">
              <div class="d-flex justify-content-between">
                <h2 class="title mt-2">{{products['name']}}</h2>
                <button mat-icon-button  class="" (click)="toggleFavorite(products['id'])">
                  <mat-icon [style.color]="isFavorite? 'red' : 'gray'" mat-fab>favorite</mat-icon>
                </button>
              </div>
              <p class="py-1 comic category">{{products['category']['nom']}}</p>
              <ul class="star-ranking d-flex justify-content-center align-content-center">
                  <li class="qtd-votes">
                      <span><span class="new" *ngIf="new">New</span></span>
                  </li>
              </ul>

          </figcaption>
          <div class="price-box">
              <div class="price">
                  <div>
                      <del>200dt</del>
                      <ins class="d-block">{{products['prix']}} TND</ins>
                  </div>
              </div>
              <button href="#" class="btn btn-buy" (click)="addProduct(products)">Buy now <i class="fas fa-arrow-right"></i></button>
          </div>
      </figure>
    </li>
  </ng-container>

  <ng-template #Recommandations>
      <li class="product-item" >
        <figure class="product-info">
            <div class="product-info-img">
                <img [src]="'http://localhost:8888/PRODUCT-SERVICE/products/images/'+productsRecommandations.product['imageProduct']" alt="description image" width="100%">
            </div>
            <figcaption class="product-info-description">
                <div class="d-flex justify-content-between">
                  <h2 class="title mt-2">{{productsRecommandations.product['name']}}</h2>
                  <button mat-icon-button  class="" (click)="toggleFavorite(productsRecommandations['product']['id'])">
                    <mat-icon [style.color]="isFavorite? 'red' : 'gray'" mat-fab>favorite</mat-icon>
                  </button>
                </div>
                <p class="py-1 comic category">{{productsRecommandations['product']['category']['nom']}}</p>
                <ul class="star-ranking d-flex justify-content-center align-content-center">
                    <li class="qtd-votes">
                        <span>
                          <span class="new" *ngIf="new;else recommended">New</span>
                          <ng-template class="Recommended" #recommended>Recommended</ng-template>
                        </span>
                    </li>
                </ul>

            </figcaption>
            <div class="price-box">
                <div class="price">
                    <div>
                        <del>400dt</del>
                        <ins class="d-block">{{productsRecommandations['product']['prix']}} TND</ins>
                    </div>
                </div>
                <button href="#" class="btn btn-buy" (click)="addProduct(productsRecommandations['product'])">Buy now <i class="fas fa-arrow-right"></i></button>
            </div>
        </figure>
      </li>
  </ng-template>


</div>
